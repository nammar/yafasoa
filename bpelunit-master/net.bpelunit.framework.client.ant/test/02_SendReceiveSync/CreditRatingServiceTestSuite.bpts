<?xml version="1.0" encoding="UTF-8"?>
<!--Sample XML file generated by XMLSpy v2006 sp2 U (http://www.altova.com)-->
<testSuite xmlns="http://www.bpelunit.org/schema/testSuite" xmlns:wsa="http://schemas.xmlsoap.org/ws/2003/03/addressing" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.bpelunit.org/schema/testSuite C:\java\bpelunitws\net.bpelunit.framework\schema\TestSuite.xsd">
  <name>Credit Rating Service Send/Receive Synchronous BPELUnit Test</name>
  <deployment>
    <put type="testmode" name="CreditRatingService">
      <wsdl>CreditRatingService.wsdl</wsdl>
    </put>
  </deployment>
  <testCases>
    <testCase name="Test with a normal SSN" xmlns:crs="http://examples.bpelunit.org/CreditRatingService">
      <clientTrack>
          <sendReceive service="crs:CreditRatingService" port="CreditRatingServicePort" operation="process">
            <send>
              <data>
                <crs:ssn>123456</crs:ssn>
              </data>
            </send>
            <receive>
              <!-- Result doesn't really matter, as long as it's there... -->
              <condition>
                <expression>crs:rating</expression>
                <value>true()</value>
              </condition>
            </receive>
          </sendReceive>
      </clientTrack>
      <partnerTrack name="CreditRatingService">
          <receiveSend port="CreditRatingServicePort" operation="process" service="crs:CreditRatingService">
            <receive>
              <!-- Assure the SSN got transferred correctly... -->
              <condition>
                <expression>crs:ssn/text()</expression>
                <value>'123456'</value>
              </condition>
            </receive>
            <send>
              <data>
                <crs:rating>495</crs:rating>
              </data>
            </send>
          </receiveSend>
      </partnerTrack>
    </testCase>

    <testCase name="Test with a null-SSN" xmlns:crs="http://examples.bpelunit.org/CreditRatingService">
      <clientTrack>
          <sendReceive service="crs:CreditRatingService" port="CreditRatingServicePort" operation="process">
            <send>
              <data>
                <crs:ssn>0</crs:ssn>
              </data>
            </send>
            <receive fault="true">
              <condition>
                <expression>//crs:error/text()</expression>
                <value>'SSN may not be null.'</value>
              </condition>
            </receive>
          </sendReceive>
      </clientTrack>
      <partnerTrack name="CreditRatingService">
          <receiveSend port="CreditRatingServicePort" operation="process" service="crs:CreditRatingService">
            <receive>
              <!-- Assure the SSN got transferred correctly... -->
              <condition>
                <expression>crs:ssn/text()</expression>
                <value>'0'</value>
              </condition>
            </receive>
            <send fault="true">
              <data>
                <crs:error>SSN may not be null.</crs:error>
              </data>
            </send>
          </receiveSend>
      </partnerTrack>
    </testCase>

  </testCases>
</testSuite>
