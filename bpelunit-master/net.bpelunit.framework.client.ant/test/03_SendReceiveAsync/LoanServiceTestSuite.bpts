<?xml version="1.0" encoding="UTF-8"?>
<!--Sample XML file generated by XMLSpy v2006 sp2 U (http://www.altova.com)-->
<testSuite xmlns="http://www.bpelunit.org/schema/testSuite" xmlns:wsa="http://schemas.xmlsoap.org/ws/2003/03/addressing" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.bpelunit.org/schema/testSuite C:\java\bpelunitws\net.bpelunit.framework\schema\TestSuite.xsd">
  <name>LoanService Send/Receive Asynchronous BPELUnit Test</name>
  <deployment>
    <put type="testmode" name="LoanService">
      <wsdl>LoanService.wsdl</wsdl>
    </put>
  </deployment>
  <testCases>
    <testCase name="Some simple test" xmlns:loan="http://examples.bpelunit.org/LoanService">
      <clientTrack>
        <sendReceiveAsynchronous>
          <headerProcessor name="wsa" />
          <send service="loan:LoanService" port="LoanServicePort" operation="initiate">
            <data>
              <loan:loanApplication>
                <loan:SSN>848484</loan:SSN>
                <loan:email>bla@blo.com</loan:email>
                <loan:customerName>Phil</loan:customerName>
                <loan:loanAmount>84884.882</loan:loanAmount>
                <loan:carModel>Ford Fiesta</loan:carModel>
                <loan:carYear>1991</loan:carYear>
                <loan:creditRating>5</loan:creditRating>
              </loan:loanApplication>
            </data>
          </send>
          <receive service="loan:LoanServiceCallbackService" port="LoanServiceCallbackPort" operation="onResult">
            <condition><expression>loan:loanOffer/loan:approved/text()</expression><value>'true'</value></condition>
          </receive>
        </sendReceiveAsynchronous>
      </clientTrack>
      <partnerTrack name="LoanService">
        <receiveSendAsynchronous>
          <headerProcessor name="wsa" />
          <receive service="loan:LoanService" port="LoanServicePort" operation="initiate">
            <!-- Assure the data got transferred correctly... -->
            <condition><expression>loan:loanApplication/loan:customerName/text()</expression><value>'Phil'</value></condition>
          </receive>
          <send service="loan:LoanServiceCallbackService" port="LoanServiceCallbackPort" operation="onResult">
            <data>
              <loan:loanOffer>
                <loan:providerName>Some Company</loan:providerName>
                <loan:selected>true</loan:selected>
                <loan:approved>true</loan:approved>
                <loan:APR>28.3</loan:APR>
              </loan:loanOffer>
            </data>
          </send>
        </receiveSendAsynchronous>
      </partnerTrack>
    </testCase>
  </testCases>
</testSuite>
